

class Assert_Result:
    def __init__(self, driver):
        self.driver = driver
        self.captures = []

    def assert_true(self, expr, message):
        """
        断言之前会进行截图保存
        """
        try:
            screenshot = self.driver.get_screenshot_as_base64()
            self.captures.append({
                "type": "screenshot",
                "data": screenshot,
                "desc": message
            })
        except Exception as e:
            self.captures.append({
                "type": "logs",
                "data": "WARNING: Failed to gather screenshot: {0}".format(e)
            })
        finally:
            assert expr, message
